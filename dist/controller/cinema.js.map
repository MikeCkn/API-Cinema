{"version":3,"sources":["../../src/controller/cinema.js"],"names":["config","db","api","get","req","res","find","err","films","send","json","findById","params","id","post","newRest","body","save","message","title","delete","remove","_id","film"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;kBAEe,gBAAiB;AAAA,QAAfA,MAAe,QAAfA,MAAe;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC5B,QAAIC,MAAM,sBAAV;;AAEA;AACA;AACAA,QAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvB,uBAAKC,IAAL,CAAU,EAAV,EAAc,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC1B,gBAAID,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH,aAFD,MAGIF,IAAIK,IAAJ,CAASF,KAAT;AACP,SALD;AAMH,KAPD;;AASA;AACA;AACAN,QAAIC,GAAJ,CAAQ,MAAR,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1B,uBAAKM,QAAL,CAAcP,IAAIQ,MAAJ,CAAWC,EAAzB,EAA6B,UAACN,GAAD,EAAMC,KAAN,EAAgB;AACzC,gBAAID,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH,aAFD,MAGIF,IAAIK,IAAJ,CAASF,KAAT;AACP,SALD;AAMH,KAPD;;AASA;AACA;AACAN,QAAIY,IAAJ,CAAS,MAAT,EAAiB,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC3B,YAAIU,UAAU,mBAASX,IAAIY,IAAb,CAAd;AACAD,gBAAQE,IAAR,CAAa,UAACV,GAAD,EAAS;AAClB,gBAAIA,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACDF,gBAAIK,IAAJ,CAAS;AACLQ,yBAAYd,IAAIY,IAAJ,CAASG,KAArB;AADK,aAAT;AAGH,SAPD;AAQH,KAVD;;AAYA;AACA;AACAjB,QAAIkB,MAAJ,CAAW,MAAX,EAAmB,UAAChB,GAAD,EAAMC,GAAN,EAAc;AAC7B,uBAAKgB,MAAL,CAAY;AACRC,iBAAKlB,IAAIQ,MAAJ,CAAWC;AADR,SAAZ,EAEG,UAACN,GAAD,EAAMgB,IAAN,EAAe;AACd,gBAAIhB,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACDF,gBAAIK,IAAJ,CAAS;AACLQ,yBAAYd,IAAIY,IAAJ,CAASG,KAArB;AADK,aAAT;AAGH,SATD;AAUH,KAXD;;AAaA,WAAOjB,GAAP;AACH,C","file":"cinema.js","sourcesContent":["import mongoose from 'mongoose';\nimport {Router} from 'express';\nimport Film from '../model/film';\nimport bodyParser from 'body-parser';\n\nexport default ({config,db}) => {\n    let api = Router();\n\n    //GET METHOD ALL\n    //v1/restaurant\n    api.get('/', (req, res) => {\n        Film.find({}, (err, films) => {\n            if (err) {\n                res.send(err);\n            } else\n                res.json(films);\n        });\n    });\n\n    //GET METHOD ID\n    //v1/cinema/id\n    api.get('/:id', (req, res) => {\n        Film.findById(req.params.id, (err, films) => {\n            if (err) {\n                res.send(err);\n            } else\n                res.json(films);\n        });\n    });\n\n    //POST METHOD\n    //v1/cinema/add\n    api.post(\"/add\", (req, res) => {\n        let newRest = new Film(req.body);\n        newRest.save((err) => {\n            if (err) {\n                res.send(err)\n            }\n            res.json({\n                message: `${req.body.title} saved successfully`\n            });\n        });\n    });\n\n    //DELETE METHOD\n    //v1/cinema/id\n    api.delete('/:id', (req, res) => {\n        Film.remove({\n            _id: req.params.id\n        }, (err, film) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json({\n                message: `${req.body.title} deleted successfully`\n            });\n        });\n    });\n\n    return api;\n};"]}