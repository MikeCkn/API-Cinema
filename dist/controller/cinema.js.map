{"version":3,"sources":["../../src/controller/cinema.js"],"names":["config","db","api","get","req","res","find","err","films","send","json","findById","params","id","post","newRest","body","save","message","title","delete","remove","_id","film"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;kBAEc,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC5B,QAAIC,MAAM,sBAAV;;AAEI;AACA;AACAA,QAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvB,uBAAKC,IAAL,CAAU,EAAV,EAAc,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC1B,gBAAID,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH,aAFD,MAIIF,IAAIK,IAAJ,CAASF,KAAT;AACP,SAND;AAOH,KARD;;AAUA;AACA;AACAN,QAAIC,GAAJ,CAAQ,MAAR,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1B,uBAAKM,QAAL,CAAcP,IAAIQ,MAAJ,CAAWC,EAAzB,EAA6B,UAACN,GAAD,EAAMC,KAAN,EAAgB;AACzC,gBAAGD,GAAH,EAAQ;AACJF,oBAAII,IAAJ,CAASF,GAAT;AACH,aAFD,MAIIF,IAAIK,IAAJ,CAASF,KAAT;AACP,SAND;AAOH,KARD;;AAUA;AACA;AACAN,QAAIY,IAAJ,CAAS,MAAT,EAAkB,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC5B,YAAIU,UAAU,mBAASX,IAAIY,IAAb,CAAd;;AAGAD,gBAAQE,IAAR,CAAa,UAACV,GAAD,EAAS;AACtB,gBAAIA,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACGF,gBAAIK,IAAJ,CAAS,EAACQ,SAAad,IAAIY,IAAJ,CAASG,KAAtB,wBAAD,EAAT;AACH,SALD;AAMH,KAVD;;AAYA;AACA;AACAjB,QAAIkB,MAAJ,CAAW,MAAX,EAAmB,UAAChB,GAAD,EAAMC,GAAN,EAAc;AAC7B,uBAAKgB,MAAL,CAAY,EAACC,KAAMlB,IAAIQ,MAAJ,CAAWC,EAAlB,EAAZ,EAAoC,UAACN,GAAD,EAAMgB,IAAN,EAAe;AAC3C,gBAAIhB,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACGF,gBAAIK,IAAJ,CAAS,EAACQ,SAAYd,IAAIY,IAAJ,CAASG,KAArB,0BAAD,EAAT;AACX,SALD;AAMX,KAPO;;AASJ,WAAOjB,GAAP;AACH,C","file":"cinema.js","sourcesContent":["import mongoose from 'mongoose';\nimport{ Router } from 'express';\nimport Film from '../model/film';\nimport bodyParser from 'body-parser';\n\nexport default({config, db}) => {\n    let api = Router();\n\n        //GET METHOD ALL\n        //v1/restaurant\n        api.get('/', (req, res) => {\n            Film.find({}, (err, films) => {\n                if (err) {\n                    res.send(err);\n                }\n                else   \n                    res.json(films);\n            });\n        });\n\n        //GET METHOD ID\n        //v1/cinema/id\n        api.get('/:id', (req, res) => {\n            Film.findById(req.params.id, (err, films) => {\n                if(err) {\n                    res.send(err);\n                }\n                else \n                    res.json(films);\n            });\n        });\n\n        //POST METHOD\n        //v1/cinema/add\n        api.post(\"/add\",  (req, res) => {\n            let newRest = new Film(req.body);\n            \n\n            newRest.save((err) => {\n            if (err) {\n                res.send(err)\n            }\n                res.json({message : `${req.body.title} saved successfully`});\n            });\n        });\n\n        //DELETE METHOD\n        //v1/cinema/id\n        api.delete('/:id', (req, res) => {\n            Film.remove({_id : req.params.id }, (err, film) => {\n                    if (err) {\n                        res.send(err);\n                    }\n                        res.json({message: `${req.body.title} deleted successfully`});\n            });\n});       \n\n    return api;\n};"]}